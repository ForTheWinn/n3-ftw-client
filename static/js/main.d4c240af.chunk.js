(this["webpackJsonpn3-ftw"]=this["webpackJsonpn3-ftw"]||[]).push([[0],{51:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"O3",(function(){return y})),n.d(r,"NEO_LINE",(function(){return T})),n.d(r,"DEV",(function(){return S})),n.d(r,"WALLET_LIST",(function(){return C})),n.d(r,"PRIVATENET",(function(){return E})),n.d(r,"TESTNET",(function(){return A})),n.d(r,"MAINNET",(function(){return I})),n.d(r,"PRIVATE_CONFIG",(function(){return W})),n.d(r,"TESTNET_CONFIG",(function(){return F})),n.d(r,"MAINNET_CONFIG",(function(){return P})),n.d(r,"GAS_SCRIPT_HASH",(function(){return L})),n.d(r,"NEO_SCRIPT_HASH",(function(){return _})),n.d(r,"TOKEN_LIST",(function(){return R})),n.d(r,"DEV_WALLET_PRIVATE_KEY",(function(){return H}));var a={};n.r(a),n.d(a,"WalletAPI",(function(){return X})),n.d(a,"LocalStorage",(function(){return ne})),n.d(a,"WalletContextProvider",(function(){return se})),n.d(a,"useWallet",(function(){return ue}));var c={};n.r(c),n.d(c,"truncateAddress",(function(){return ie}));var s=n(0),u=n.n(s),i=n(37),o=n.n(i),l=n(10),d=n(1),p=Object(s.createContext)({}),b=function(e){var t=Object(s.useState)(!1),n=Object(l.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(!1),u=Object(l.a)(c,2),i=u[0],o=u[1],b={sidebarStatus:r,openSidebar:function(){return a(!0)},closeSidebar:function(){return a(!1)},toggleSidebar:function(){return a(!r)},walletSidebarStatus:i,toggleWalletSidebar:function(){return o(!i)}};return Object(d.jsx)(p.Provider,{value:b,children:e.children})},f=function(){return Object(s.useContext)(p)},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},j=(n(51),n(41)),v=n(4),x=(n(52),n(21)),m=576,O=992;var N=function(e){return Object(d.jsx)("section",{className:"hero is-fullheight",children:Object(d.jsx)("div",{className:"hero-body",children:Object(d.jsxs)("div",{className:"container has-text-centered",children:[Object(d.jsx)("div",{className:"block",children:Object(d.jsx)("figure",{className:"image is-64x64",style:{margin:"0 auto"},children:Object(d.jsx)("img",{alt:"FTW_SYMBOL",src:"/symbol.png"})})}),Object(d.jsxs)("p",{className:"title",children:["FOR THE WIN X ",Object(d.jsx)("span",{className:"has-text-success",children:"N3"})]}),Object(d.jsx)("p",{className:"subtitle",children:"Migration soon"}),Object(d.jsx)("a",{className:"has-text-grey-darker",href:"https://forthewinn.github.io/legacy-app",children:Object(d.jsx)("small",{children:"Neo-legacy archive"})})]})})})},g=n(38),w=n.n(g),k=n(3),y="O3",T="NEO_LINE",S="DEV",C=[{label:"Dev",key:S},{label:"NEO Line",key:T},{label:"O3",key:y}],E="N3PrivateNet",A="N3TestNet",I="N3MainNet",W={label:"privateNet",url:"http://127.0.0.1:50012"},F={label:"N3TestNet",url:"http://seed2t4.neo.org:20332"},P={label:"N3MainNet",url:"http://127.0.0.1:50012"},L=k.CONST.NATIVE_CONTRACT_HASH.GasToken,_=k.CONST.NATIVE_CONTRACT_HASH.NeoToken,R=function(e){return[_,L]},H="7b5d7fda53932ed9d43eb848dd521455767a4d40b5a994e6f351605e5a4ce26a",B=n(20),D=n(2),M=n.n(D),V=n(5),G=n(11),Q=function e(t){var n;switch(t.type){case"Address":return k.sc.ContractParam.hash160(k.wallet.getScriptHashFromAddress(t.value));case"Hash160":return k.sc.ContractParam.hash160(t.value);case"String":return k.sc.ContractParam.string(t.value);case"Integer":return k.sc.ContractParam.integer(t.value);case"Array":return(n=k.sc.ContractParam).array.apply(n,Object(B.a)(t.value.map((function(t){return e(t)}))));case"ByteArray":return k.sc.ContractParam.byteArray(k.u.hex2base64(k.u.str2hexstring(t.value)));default:throw new Error("No support param")}},U=function e(){Object(G.a)(this,e)};U.READ_LOG_FREQUENCY=6e3,U.getRPCClient=function(e){var t;switch(e){case E:t=W;break;case A:t=F;break;case I:t=P}return new k.rpc.RPCClient(t.url)},U.findNotificationFromTxId=function(){var e=Object(V.a)(M.a.mark((function e(t,n,r,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getNotificationsFromTxId(t,a);case 2:return c=e.sent,e.abrupt("return",c.find((function(e){return e.contract==="0x"+n&&e.eventname===r})));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),U.getNotificationsFromTxId=function(){var e=Object(V.a)(M.a.mark((function e(t,n){var r,a,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=U.getRPCClient(n);case 1:return e.prev=1,e.next=4,r.getApplicationLog(t);case 4:a=e.sent,console.log(a),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,U.sleep(U.READ_LOG_FREQUENCY);case 12:if(!a){e.next=1;break}case 13:return c=[],a.executions.forEach((function(e){c.push.apply(c,Object(B.a)(e.notifications))})),e.abrupt("return",c);case 16:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),U.read=function(){var e=Object(V.a)(M.a.mark((function e(t,n){var r,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U.getRPCClient(t),a=new k.sc.ScriptBuilder,n.map((function(e){var t=[];e.args&&(t=e.args.map((function(e){return Q(e)}))),a.emitAppCall(e.scriptHash,e.operation,t)})),e.next=5,r.invokeScript(k.u.HexString.fromHex(a.build()));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U.sleep=function(e){return new Promise((function(t){setTimeout(t,e)}))};var Y=n(39),q=n.n(Y),J=n(40),K=n(19),z=function(){function e(){Object(G.a)(this,e)}return Object(K.a)(e,null,[{key:"getAccount",value:function(){var t=Object(V.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{address:e.account.address,label:"DEV"});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getProvider",value:function(){var e=Object(V.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{name:"Dev wallet",version:"0.0",website:"https://",compatibility:[],extra:{currency:"USD",theme:""}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getNetworks",value:function(){var e=Object(V.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{chainId:4,defaultNetwork:t,networks:["MainNet","TestNet","N3MainNet","N3TestNet"]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var t=Object(V.a)(M.a.mark((function t(n){var r,a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=U.getRPCClient(n),t.next=3,r.getNep17Balances(e.account.address);case 3:return(a=t.sent).balance=a.balance.map((function(e){var t;return e.assethash.includes(L)&&(t="GAS"),e.assethash.includes(_)&&(t="NEO"),{contract:e.assethash,amount:k.u.BigInteger.fromNumber(e.amount).toDecimal(8).toString(),symbol:t}})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"invoke",value:function(){var t=Object(V.a)(M.a.mark((function t(n,r){var a,c,s,u;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=U.getRPCClient(n),t.next=3,e.build(a,r,e.account.address);case 3:return c=t.sent,t.next=6,a.getVersion();case 6:return s=t.sent,c.sign(e.account,s.network),console.log(c.systemFee.toDecimal(8).toString()),t.next=11,a.sendRawTransaction(c);case 11:return u=t.sent,t.abrupt("return",{txid:u,nodeUrl:a.url});case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();z.account=new k.wallet.Account(H),z.build=function(){var e=Object(V.a)(M.a.mark((function e(t,n,r,a){var c,s,u,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBlockCount();case 2:return c=e.sent,n.args=n.args.map((function(e){return Q(e)})),console.log(n),s=k.sc.createScript(Object(J.a)({},n)),u=[{account:k.wallet.getScriptHashFromAddress(r),scopes:k.tx.WitnessScope.CalledByEntry}],a&&u.push({account:k.wallet.getScriptHashFromAddress(a),scopes:k.tx.WitnessScope.Global}),i=new k.tx.Transaction({validUntilBlock:c+1,script:s,signers:u}),e.next=11,z.calculateNetworkFee(t,i);case 11:return i.networkFee=e.sent,e.next=14,z.calculateSystemFee(t,i);case 14:return i.systemFee=e.sent,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),z.calculateNetworkFee=function(){var e=Object(V.a)(M.a.mark((function e(t,n){var r,a,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.invokeFunction(k.CONST.NATIVE_CONTRACT_HASH.PolicyContract,"getFeePerByte");case 2:if("HALT"===(r=e.sent).state){e.next=5;break}throw new Error(r.exception?r.exception:"Failed");case 5:return a=k.u.BigInteger.fromNumber(r.stack[0].value),c=n.serialize().length/2+109,s=k.u.BigInteger.fromNumber(1000390*(1===n.signers.length?1:3)),e.abrupt("return",a.mul(c).add(s));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z.calculateSystemFee=function(){var e=Object(V.a)(M.a.mark((function e(t,n){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.invokeScript(n.script,n.signers);case 2:if("HALT"===(r=e.sent).state){e.next=5;break}throw new Error(r.exception?r.exception:"Failed");case 5:return e.abrupt("return",k.u.BigInteger.fromNumber(r.gasconsumed));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z.balanceCheck=function(){var e=Object(V.a)(M.a.mark((function e(t,n,r,a,c){var s,u,i,o,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNep17Balances(n);case 2:if(s=e.sent,u=0,i=r+a,o=0,s.balance.map((function(e){e.assethash.includes(L)&&(u=k.u.Fixed8.fromRawNumber(e.amount).toNumber()),c&&"transfer"===c.operation&&e.assethash.includes(c.scriptHash)&&(o=k.u.Fixed8.fromRawNumber(e.amount).toNumber())})),!(u<i)){e.next=9;break}return e.abrupt("return",!1);case 9:if(u-=i,!c||"transfer"!==c.operation){e.next=19;break}if(l=k.u.Fixed8.fromRawNumber(c.args[2].value).toNumber(),c.scriptHash!==L){e.next=17;break}if(!(u<l)){e.next=15;break}return e.abrupt("return",!1);case 15:e.next=19;break;case 17:if(!(o<l)){e.next=19;break}return e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}();var X=function e(t){var n=this;Object(G.a)(this,e),this.walletType=void 0,this.getInstance=function(){var e=Object(V.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===y?3:e.t0===T?5:e.t0===S?7:9;break;case 3:return n=q.a,e.abrupt("break",10);case 5:return n=new NEOLineN3.Init,e.abrupt("break",10);case 7:return n=z,e.abrupt("break",10);case 9:throw new Error("No support wallet!");case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.init=function(){var e=Object(V.a)(M.a.mark((function e(t){var r,a,c,s,u,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getInstance(n.walletType);case 3:if(r=e.sent,n.walletType!==T){e.next=11;break}return s=new NEOLine.Init,e.next=8,s.getNetworks();case 8:a=e.sent,e.next=15;break;case 11:if(n.walletType!==S){e.next=15;break}return e.next=14,r.getNetworks(t);case 14:a=e.sent;case 15:return e.next=17,r.getProvider();case 17:return u=e.sent,e.next=20,r.getAccount();case 20:if(i=e.sent,n.walletType!==S){e.next=27;break}return e.next=24,r.getBalance(t);case 24:c=e.sent,e.next=30;break;case 27:return e.next=29,r.getBalance({params:{address:i.address,contracts:R(a.defaultNetwork)}});case 29:c=e.sent;case 30:return e.abrupt("return",{key:n.walletType,provider:u,account:i,network:a,balances:c});case 33:throw e.prev=33,e.t0=e.catch(0),console.error(e.t0),e.t0;case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(t){return e.apply(this,arguments)}}(),this.testInvoke=function(){},this.invoke=function(){var e=Object(V.a)(M.a.mark((function e(t,r,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getInstance(n.walletType);case 2:if(c=e.sent,n.walletType!==S){e.next=9;break}return e.next=6,c.invoke(t,a);case 6:return e.abrupt("return",e.sent);case 9:return a.signers=[{account:k.wallet.getScriptHashFromAddress(r),scopes:1}],e.next=12,c.invoke(a);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.walletType=t};X.list=C;var Z=n(12),$=n.n(Z),ee="CONNECTED_WALLET",te="TRANSACTIONS",ne=function(){function e(){Object(G.a)(this,e)}return Object(K.a)(e,null,[{key:"setWallet",value:function(e){var t=re(e);$.a.set(ee,t)}},{key:"removeWallet",value:function(){$.a.remove(ee)}}]),e}();ne.getWallet=function(){return re($.a.get(ee))},ne.getTransactions=function(){return $.a.has(te)?$.a.get(te):[]},ne.removeTransaction=function(e){return $.a.remove(te,e)},ne.clearTransaction=function(){return $.a.set(te,[])};var re=function(e){if(e&&e.account&&e.provider&&e.network)return e},ae=n(44),ce=Object(s.createContext)({}),se=function(e){var t=Object(s.useState)(e.options.network),n=Object(l.a)(t,1)[0],r=Object(s.useState)(!1),a=Object(l.a)(r,2),c=a[0],u=a[1],i=Object(s.useState)(e.options.useLocalStorage?ne.getWallet():void 0),o=Object(l.a)(i,2),p=o[0],b=o[1],f=Object(s.useState)(),h=Object(l.a)(f,2),j=h[0],v=h[1],x=function(){var t=Object(V.a)(M.a.mark((function t(r){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new X(r).init(n);case 3:a=t.sent,b(a),e.options.useLocalStorage&&ne.setWallet(a),u(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),ae.a.error("Failed to connect");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),m={useDevWallet:e.options.useDevWallet,network:n,invokeScript:j,list:X.list,connectedWallet:p,isWalletModalActive:c,openWalletModal:function(){return u(!0)},closeWalletModal:function(){return u(!1)},connectWallet:x,disConnectWallet:function(){ne.removeWallet(),b(void 0)},doInvoke:function(e){c&&u(!1),v(e)},closeInvoke:function(){return v(void 0)}};return Object(d.jsx)(ce.Provider,{value:m,children:e.children})},ue=function(){return Object(s.useContext)(ce)},ie=function(e){return"".concat(e.substring(0,4),"...").concat(e.substr(e.length-2))},oe=n(76),le=function(e){var t="";switch(e){case r.DEV:t="/dev.png";break;case r.O3:t="/o3.svg";break;case r.NEO_LINE:t="/neoline.svg"}return t},de=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=a.useWallet(),u=c.disConnectWallet,i=c.connectedWallet,o=f().toggleWalletSidebar;return i?Object(d.jsxs)("div",{className:"dropdown ".concat(n&&"is-active"),children:[Object(d.jsx)("div",{className:"dropdown-trigger",children:Object(d.jsxs)("button",{className:"button is-white","aria-haspopup":"true","aria-controls":"dropdown-menu3",onClick:function(){return r(!n)},children:[Object(d.jsx)("span",{className:"icon is-small",children:Object(d.jsx)("img",{src:le(i.key)})}),Object(d.jsx)("span",{children:Object(d.jsx)("strong",{children:"Wallet"})}),Object(d.jsx)("span",{className:"icon is-small",children:Object(d.jsx)(oe.a,{})})]})}),Object(d.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu3",role:"menu",children:Object(d.jsx)("div",{className:"dropdown-content",children:Object(d.jsx)("a",{onClick:function(){o(),u()},href:"#",className:"dropdown-item",children:"Disconnect"})})})]}):Object(d.jsx)("button",{className:"button is-white ",onClick:function(){return r(!n)},children:Object(d.jsx)("strong",{children:"Wallet"})})},pe=function(e){return Object(d.jsxs)("div",{className:"media box",children:[Object(d.jsx)("div",{className:"media-left",children:Object(d.jsx)("strong",{children:"NEO"})}),Object(d.jsx)("div",{className:"media-content"}),Object(d.jsx)("div",{className:"media-right has-text-right",children:"13.123"})]})},be=function(e){var t=a.useWallet(),n=t.connectWallet,r=t.list;t.useDevWallet;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"subtitle is-6",children:"Connect with one of our available wallet info providers or create a new one."}),Object(d.jsx)("nav",{className:"panel",children:r.map((function(e){return Object(d.jsxs)("a",{className:"panel-block",onClick:function(){return n(e.key)},children:[Object(d.jsx)("span",{className:"panel-icon",children:Object(d.jsx)("img",{src:le(e.key),alt:"React Logo"})}),e.label]},e.key)}))})]})},fe=function(e){var t=a.useWallet().connectedWallet;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("header",{className:"level is-mobile p-3 is-marginless",children:[Object(d.jsx)("div",{className:"level-left",children:Object(d.jsx)("div",{className:"level-item",children:Object(d.jsx)(de,{})})}),t&&Object(d.jsx)("div",{className:"level-right",children:Object(d.jsx)("div",{className:"level-item",children:Object(d.jsx)("small",{children:c.truncateAddress(t.account.address)})})})]}),Object(d.jsx)("hr",{className:"m-0"}),Object(d.jsx)("section",{className:"p-5",children:t?Object(d.jsx)(pe,{}):Object(d.jsx)(be,{})})]})},he=function(e){var t=f(),n=t.walletSidebarStatus,r=t.toggleWalletSidebar;return Object(d.jsx)(w.a,{openFromRight:!0,style:{top:"52px"},showNav:n,onHideNav:r,children:Object(d.jsx)(fe,{})})},je=function(){var e=f(),t=(e.sidebarStatus,e.openSidebar,e.closeSidebar,{isDesktop:Object(x.useMediaQuery)({query:"(min-width: ".concat(O,"px)")}),isTabletAndBelow:Object(x.useMediaQuery)({query:"(max-width: ".concat(O-1,"px)")}),isMobileAndBelow:Object(x.useMediaQuery)({query:"(max-width: ".concat(m-1,"px)")})}.isMobileAndBelow);return console.log(t),Object(d.jsx)(a.WalletContextProvider,{options:{network:r.TESTNET,useLocalStorage:!0,useDevWallet:!0},children:Object(d.jsxs)(j.a,{children:[Object(d.jsx)(v.a,{exact:!0,path:"/",component:N}),Object(d.jsx)(he,{})]})})};o.a.render(Object(d.jsx)(u.a.StrictMode,{children:Object(d.jsx)(b,{children:Object(d.jsx)(je,{})})}),document.getElementById("root")),h()}},[[74,1,2]]]);
//# sourceMappingURL=main.d4c240af.chunk.js.map